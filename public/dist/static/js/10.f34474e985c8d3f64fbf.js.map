{"version":3,"sources":["webpack:///src/components/article/article-list.vue","webpack:///./src/components/article/article-list.vue?d992","webpack:///./src/components/article/article-list.vue"],"names":["article_list","components","rightShow","right_show","name","data","cardDataArr","tagsArr","typeList","breadcrumbData","listQuery","pageNum","pageSize","articlePath","loading","methods","changTime","time","day","testTime","Date","year","getFullYear","month","getMonth","date","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds","handleSelect","_","this","$router","push","getDataList","createArticle","getAllTypeList","_this","promise_default","a","resolve","reject","Object","type","then","res","status","$set","length","map","item","upperType","assign_default","children","find","itemInner","value","sort","b","typeSort","catch","err","getAllTagsList","_this2","tags","Error","changeColorToRgb","hex","op","color","rgb","replace","tmp","i","charAt","join","_i","substr","parseInt","Number","_this3","$loading","lock","text","background","$route","query","typePath","$message","message","article","index","id","_id","title","content","description","imgUrl","poster","author","readCount","comments","releaseTime","create","itemTagValue","itemTag","close","created","_this4","all","article_article_list","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","default-active","mode","on","select","_l","key","slot","_v","_s","typeName","typeSub","staticStyle","height","line-height","padding-left","margin-top","background-color","separator","gutter","span","shadow","size","click","position","$event","display","margin-right","href","style","borderColor","label","bottom","left","marginTop","src","alt","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"sMAuGAA,GACAC,YAAAC,UAAAC,EAAA,SACAC,KAAA,iBACAC,KAHA,WAIA,OACAC,eACAC,WACAC,YACAC,kBACAC,WACAC,QAAA,EACAC,SAAA,GACAC,YAAA,IAEAC,QAAA,OAGAC,SACAC,UADA,SACAC,EAAAC,GACA,IAAAD,EACA,aAEA,IAAAE,EAAA,IAAAC,KAAAH,GACAI,EAAAF,EAAAG,cACAC,EAAAJ,EAAAK,WAAA,EACAC,EAAAN,EAAAO,UACAC,EAAAR,EAAAS,WACAC,EAAAV,EAAAW,aACAC,EAAAZ,EAAAa,aACA,OAAAd,EAAAG,EAAA,IAAAE,EAAA,IAAAE,EAAA,IAAAJ,EAAA,IAAAE,EAAA,IAAAE,EAAA,MAAAE,EAAA,OAAAA,KAAA,KAAAE,EAAA,OAAAA,KAAA,KAAAE,EAAA,OAAAA,MAEAE,aAdA,SAcAC,GACAA,IAAAC,KAAAzB,UAAAG,cACAsB,KAAAC,QAAAC,KAAA,2BAAAH,GACAC,KAAAG,gBAEAC,cAnBA,WAoBAJ,KAAAC,QAAAC,KAAA,sBAEAG,eAtBA,WAsBA,IAAAC,EAAAN,KACA,WAAAO,EAAAC,EAAA,SAAAC,EAAAC,GACAC,OAAAC,EAAA,EAAAD,KAAAE,KAAA,SAAAC,GAAA,IACAC,EAAAD,EAAAC,OAAA7C,EAAA4C,EAAA5C,KACAoC,EAAAU,KAAAV,EAAA,eACA,IAAAS,GACA7C,KAAA+C,SACA/C,EAAAgD,IAAA,SAAAC,GACA,IAAAA,EAAAC,WACAd,EAAAjC,SAAA6B,KAAAmB,IAAAF,GACAG,iBAIAhB,EAAAjC,SAAA4C,SACA/C,EAAAgD,IAAA,SAAAC,GACAb,EAAAjC,SAAAkD,KAAA,SAAAC,GACAA,EAAAC,QAAAN,EAAAC,WACAI,EAAAF,SAAApB,KAAAiB,OAIAb,EAAAjC,SAAAqD,KAAA,SAAAlB,EAAAmB,GACA,OAAAnB,EAAAoB,SAAAD,EAAAC,YAGAnB,OAGAoB,MAAA,SAAAC,GAAA,OAAApB,EAAAoB,QAGAC,eAtDA,WAsDA,IAAAC,EAAAhC,KACA,WAAAO,EAAAC,EAAA,SAAAC,EAAAC,GACAC,OAAAsB,EAAA,EAAAtB,KACAE,KAAA,SAAAC,GAAA,IACAC,EAAAD,EAAAC,OAAA7C,EAAA4C,EAAA5C,KACA,IAAA6C,GACAiB,EAAA5D,QAAAF,EACAuC,KAEAC,EAAA,IAAAwB,MAAA,YAGAL,MAAA,SAAAC,GAAA,OAAApB,EAAAoB,QAGAK,iBArEA,SAqEAC,EAAAC,GACA,IAAAC,KAAAC,KAGA,QAFAH,IAAAI,QAAA,SAEAvB,OAAA,CAEA,IADA,IAAAwB,KACAC,EAAA,EAAAA,EAAA,EAAAA,IACAD,EAAAvC,KAAAkC,EAAAO,OAAAD,GAAAN,EAAAO,OAAAD,IAEAN,EAAAK,EAAAG,KAAA,IAGA,QAAAC,EAAA,EAAAA,EAAA,EAAAA,IACAP,EAAAO,GAAA,KAAAT,EAAAU,OAAA,EAAAD,EAAA,GACAN,EAAArC,KAAA6C,SAAAC,OAAAV,EAAAO,MAEA,cAAAN,EAAAK,KAAA,WAAAP,GAAA,QAEAlC,YAvFA,WAuFA,IAAA8C,EAAAjD,KASA,GARAA,KAAArB,QAAAqB,KAAAkD,UACAC,MAAA,EACAC,KAAA,SACAC,WAAA,sBAEArD,KAAAzB,UAAAG,YAAAsB,KAAAsD,OAAAC,MAAA,KAAAvD,KAAAsD,OAAAC,MAAA,KACAvD,KAAA3B,SAAA,GAAAiD,SAAAL,OAAAjB,KAAA3B,SAAA,GAAAiD,SAAA,GAAAkC,SACAxD,KAAA3B,SAAA,GAAAmF,UACAxD,KAAA3B,WAAA2B,KAAA3B,SAAA4C,OAuCA,OALAjB,KAAAyD,UACAC,QAAA,cACA9C,KAAA,eAEAZ,KAAAC,QAAAC,KAAA,eArCAF,KAAAgB,KAAAhB,KAAA,qBAEAA,KAAA3B,SAAAkD,KAAA,SAAAJ,GACA,OAAAA,EAAAG,UAAAH,EAAAG,SAAAL,OACAE,EAAAG,SAAAC,KAAA,SAAAC,GACA,GAAAA,EAAAgC,WAAAP,EAAA1E,UAAAG,YAGA,OAFAuE,EAAA3E,eAAA4B,KAAAiB,GACA8B,EAAA3E,eAAA4B,KAAAsB,IACA,IAIAL,EAAAqC,WAAAP,EAAA1E,UAAAG,aACAuE,EAAA3E,eAAA4B,KAAAiB,IACA,QAFA,MAOAnB,KAAA3B,SAAA,GAAAiD,UAAAtB,KAAA3B,SAAA,GAAAiD,SAAAL,QACAjB,KAAA1B,eAAA4B,KAAAF,KAAA3B,SAAA,IACA2B,KAAA1B,eAAA4B,KAAAF,KAAA3B,SAAA,GAAAiD,SAAA,IACAtB,KAAAzB,UAAAG,YAAAsB,KAAA3B,SAAA,GAAAiD,SAAA,GAAAkC,WAEAxD,KAAA1B,eAAA4B,KAAAF,KAAA3B,SAAA,IACA2B,KAAAzB,UAAAG,YAAAsB,KAAA3B,SAAA,GAAAmF,UAEAxD,KAAAyD,UACAC,QAAA,kBACA9C,KAAA,WAWAD,OAAAgD,EAAA,EAAAhD,CAAAX,KAAAzB,WACAsC,KAAA,SAAAC,GACAmC,EAAAjC,KAAAiC,EAAA,kBADA,IAEAlC,EAAAD,EAAAC,OAAA7C,EAAA4C,EAAA5C,KACA,IAAA6C,IACA7C,KAAA+C,QACA/C,EAAAgD,IAAA,SAAAC,EAAAyC,GACAX,EAAA9E,YAAA+B,MACA2D,GAAA1C,EAAA2C,IACAC,MAAA5C,EAAA4C,MACA9B,QACA+B,QAAA7C,EAAA8C,YACAC,OAAA/C,EAAAgD,OACAC,OAAAjD,EAAAiD,QAAA,UACAC,UAAAlD,EAAA,MACAmD,SAAAnD,EAAAmD,SAAArD,OACAsD,YAAAtB,EAAApE,UAAAsC,EAAAqD,UAEArD,EAAAc,MAAAd,EAAAc,KAAAhB,QACAE,EAAAc,KAAAf,IAAA,SAAAuD,GACAxB,EAAA7E,QAAAmD,KAAA,SAAAmD,GACA,GAAAD,IAAAC,EAAAjD,MAEA,OADAwB,EAAA9E,YAAAyF,GAAA3B,KAAA/B,KAAAwE,IACA,QAOAzB,EAAAtE,QAAAgG,aAMAC,QA9LA,WA8LA,IAAAC,EAAA7E,KACAA,KAAArB,QAAAqB,KAAAkD,UACAC,MAAA,EACAC,KAAA,SACAC,WAAA,sBAEA9C,EAAAC,EAAAsE,KAAA9E,KAAAK,iBAAAL,KAAA+B,mBAAAlB,KAAA,WACAgE,EAAA1E,kBCzSA4E,GADiBC,OAFjB,WAA0B,IAAAC,EAAAjF,KAAakF,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,UAAoBF,EAAA,WAAgBE,YAAA,eAAAC,OAAkCC,iBAAAP,EAAA1G,UAAAG,YAAA+G,KAAA,cAA+DC,IAAKC,OAAAV,EAAAnF,gBAA2BmF,EAAAW,GAAAX,EAAA,kBAAArE,GAAuC,OAAAA,EAAAU,SAAA,OAAA8D,EAAA,cAAgDS,IAAAjF,EAAAa,MAAA8D,OAAsB3B,MAAAhD,EAAA4C,YAAuB4B,EAAA,YAAiBU,KAAA,UAAab,EAAAc,GAAAd,EAAAe,GAAApF,EAAAqF,aAAAhB,EAAAc,GAAA,KAAAd,EAAAW,GAAAhF,EAAA,kBAAAsF,GAAuF,OAAAd,EAAA,gBAA0BS,IAAAK,EAAAzE,MAAA8D,OAAyB3B,MAAAsC,EAAA1C,YAA0ByB,EAAAc,GAAAd,EAAAe,GAAAE,EAAAD,gBAAqC,GAAAb,EAAA,gBAAyBS,IAAAjF,EAAAa,MAAA8D,OAAsB3B,MAAAhD,EAAA4C,YAAuByB,EAAAc,GAAAd,EAAAe,GAAApF,EAAAqF,iBAAmC,GAAAhB,EAAAc,GAAA,KAAAX,EAAA,iBAAsCe,aAAaC,OAAA,OAAAC,cAAA,OAAAC,eAAA,OAAAC,aAAA,OAAAC,mBAAA,sBAAuHjB,OAAQkB,UAAA,MAAiBxB,EAAAW,GAAAX,EAAA,wBAAA9D,GAA4C,OAAAiE,EAAA,sBAAgCS,IAAA1E,EAAA2C,MAAamB,EAAAc,GAAA,iBAAAd,EAAAe,GAAA7E,EAAA8E,UAAA,mBAAgEhB,EAAAc,GAAA,KAAAX,EAAA,UAA4Be,aAAaI,aAAA,QAAoBhB,OAAQmB,OAAA,MAAatB,EAAA,UAAeG,OAAOoB,KAAA,MAAWvB,EAAA,WAAgBE,YAAA,WAAAa,aAAoCI,aAAA,QAAoBhB,OAAQqB,OAAA,WAAkBxB,EAAA,OAAYE,YAAA,YAAAC,OAA+BO,KAAA,UAAgBA,KAAA,WAAeV,EAAA,QAAaE,YAAA,uBAAiCL,EAAAc,GAAAd,EAAAe,GAAAf,EAAA3G,eAAA2G,EAAA3G,eAAA2C,OAAA,GAAAgE,EAAA3G,eAAA2G,EAAA3G,eAAA2C,OAAA,GAAAgF,SAAA,OAAAhB,EAAAc,GAAA,KAAAX,EAAA,aAAoKE,YAAA,qBAAAC,OAAwC3E,KAAA,UAAAiG,KAAA,QAA+BnB,IAAKoB,MAAA7B,EAAA7E,iBAA2B6E,EAAAc,GAAA,cAAAd,EAAAc,GAAA,KAAAd,EAAA9G,YAAA,OAAAiH,EAAA,MAAAH,EAAAW,GAAAX,EAAA,qBAAA9D,EAAAyC,GAAoH,OAAAwB,EAAA,WAAqBS,IAAAjC,EAAA0B,YAAA,WAAAa,aAA8CI,aAAA,QAAoBhB,OAAQqB,OAAA,WAAkBxB,EAAA,OAAYE,YAAA,YAAAa,aAAqCY,SAAA,YAAsBrB,IAAKoB,MAAA,SAAAE,GAAyB/B,EAAAhF,QAAAC,KAAA,2BAAAiB,EAAA,QAA+DiE,EAAA,OAAYE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,eAAyBL,EAAAc,GAAAd,EAAAe,GAAA7E,EAAA4C,UAAAkB,EAAAc,GAAA,KAAAd,EAAAW,GAAAzE,EAAA,cAAAK,GAAkF,OAAA4D,EAAA,KAAeS,IAAArE,EAAAC,MAAA0E,aAAiCc,QAAA,eAAAC,eAAA,OAA8C3B,OAAQ4B,KAAA,kBAAuB/B,EAAA,QAAaE,YAAA,MAAA8B,OAA0B/D,WAAA4B,EAAA9C,iBAAAX,EAAA6B,WAAA,IAAAf,MAAAd,EAAAc,MAAA+E,YAAApC,EAAA9C,iBAAAX,EAAAc,MAAA,OAAmJ2C,EAAAc,GAAAd,EAAAe,GAAAxE,EAAA8F,cAAsCrC,EAAAc,GAAA,KAAAX,EAAA,KAAsBe,aAAaI,aAAA,OAAAF,cAAA,UAA0CpB,EAAAc,GAAAd,EAAAe,GAAA7E,EAAA6C,YAAAiB,EAAAc,GAAA,KAAAX,EAAA,OAAuDE,YAAA,iBAAA8B,MAAAjG,EAAA+C,QAAmD6C,SAAA,WAAAQ,OAAA,IAAAC,KAAA,MAAmDC,UAAA,UAAsBrC,EAAA,KAAUG,OAAO4B,KAAA,kBAAuB/B,EAAA,KAAUE,YAAA,gBAA0BL,EAAAc,GAAA,6CAAAd,EAAAe,GAAA7E,EAAAiD,QAAA,4CAAAa,EAAAc,GAAA,KAAAX,EAAA,KAA0IG,OAAO4B,KAAA,kBAAuB/B,EAAA,KAAUE,YAAA,eAAyBL,EAAAc,GAAA,6CAAAd,EAAAe,GAAA7E,EAAAkD,WAAA,4CAAAY,EAAAc,GAAA,KAAAX,EAAA,KAA6IG,OAAO4B,KAAA,kBAAuB/B,EAAA,KAAUE,YAAA,iBAA2BL,EAAAc,GAAA,6CAAAd,EAAAe,GAAA7E,EAAAmD,UAAA,4CAAAW,EAAAc,GAAA,KAAAX,EAAA,KAA4IG,OAAO4B,KAAA,kBAAuB/B,EAAA,KAAUE,YAAA,cAAwBL,EAAAc,GAAA,6CAAAd,EAAAe,GAAA7E,EAAAoD,aAAA,kDAAAU,EAAAc,GAAA,KAAAX,EAAA,OAAuJE,YAAA,eAAyBnE,EAAA,OAAAiE,EAAA,OAA0BG,OAAOmC,IAAAvG,EAAA+C,OAAAyD,IAAA,SAA+B1C,EAAA2C,cAAiBxC,EAAA,OAAaE,YAAA,oBAA8BF,EAAA,QAAAH,EAAAc,GAAA,kBAAAd,EAAAc,GAAA,KAAAX,EAAA,uBAEtuHyC,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAnK,EACAkH,GATA,EAVA,SAAAkD,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/10.f34474e985c8d3f64fbf.js","sourcesContent":["<template>\r\n    <div class=\"width\">\r\n\r\n        <el-menu :default-active=\"listQuery.articlePath\"\r\n                 class=\"el-menu-demo\"\r\n                 mode=\"horizontal\"\r\n                 @select=\"handleSelect\">\r\n            <template v-for=\"type in typeList\">\r\n                <el-submenu :key=\"type.value\"\r\n                            v-if=\"type.children.length\"\r\n                            :index=\"type.typePath\">\r\n                    <template slot=\"title\">{{type.typeName}}</template>\r\n                    <el-menu-item v-for=\"typeSub in type.children\"\r\n                                  :key=\"typeSub.value\"\r\n                                  :index=\"typeSub.typePath\">{{typeSub.typeName}}</el-menu-item>\r\n                </el-submenu>\r\n                <el-menu-item v-else\r\n                              :key=\"type.value\"\r\n                              :index=\"type.typePath\">{{type.typeName}}</el-menu-item>\r\n            </template>\r\n        </el-menu>\r\n        <el-breadcrumb style=\"height: 50px;line-height: 50px;padding-left: 20px;margin-top: 20px;background-color: rgb(240, 240, 240);\"\r\n                       separator=\">\">\r\n            <el-breadcrumb-item v-for=\"item in breadcrumbData\"\r\n                                :key=\"item._id\">\r\n                {{item.typeName}}\r\n            </el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n\r\n        <el-row style=\"margin-top: 20px;\" :gutter=\"20\">\r\n            <el-col :span=\"18\">\r\n                <el-card class=\"box-card\"\r\n                         style=\"margin-top: 10px;\"\r\n                         shadow=\"never\">\r\n                    <div slot=\"header\"\r\n                         class=\"clear-fix\">\r\n                        <span class=\"article-type-title\">{{breadcrumbData[breadcrumbData.length - 1] ? breadcrumbData[breadcrumbData.length - 1].typeName : ``}}</span>\r\n                        <el-button type=\"primary\"\r\n                                   size=\"mini\"\r\n                                   @click=\"createArticle\"\r\n                                   class=\"create-article-btn\">发表文章</el-button>\r\n                    </div>\r\n\r\n                    <div v-if=\"cardDataArr.length\">\r\n                        <el-card class=\"box-card\"\r\n                                 v-for=\"( item, index ) in cardDataArr\"\r\n                                 :key=\"index\"\r\n                                 style=\"margin-top: 20px;\"\r\n                                 shadow=\"hover\">\r\n                            <div style=\"position: relative;\"\r\n                                 @click=\"$router.push( `/home/article-detail?id=${item.id}` )\"\r\n                                 class=\"clear-fix\">\r\n                                <div class=\"card-left\">\r\n                                    <div class=\"card-title\">{{item.title}}</div>\r\n                                    <a href=\"javascript:;\"\r\n                                       style=\"display: inline-block;margin-right: 8px;\"\r\n                                       :key=\"itemInner.value\"\r\n                                       v-for=\"itemInner in item.tags\">\r\n                                        <span class=\"tag\"\r\n                                              :style=\"{ background: changeColorToRgb( itemInner.background, .2 ), color: itemInner.color, borderColor: changeColorToRgb( itemInner.color, .1 ) }\">{{itemInner.label}}</span>\r\n                                    </a>\r\n                                    <p style=\"margin-top: 10px;line-height: 20px;\">{{item.content}}</p>\r\n                                    <div :style=\"item.imgUrl ? { position: 'absolute', bottom: '0', left: '0' } : { marginTop: '20px' }\"\r\n                                         class=\"card-data-info\">\r\n                                        <a href=\"javascript:;\">\r\n                                            <i class=\"icon-author\"></i>\r\n                                            {{item.author}}\r\n                                        </a>\r\n                                        <a href=\"javascript:;\">\r\n                                            <i class=\"icon-views\"></i>\r\n                                            {{item.readCount}}\r\n                                        </a>\r\n                                        <a href=\"javascript:;\">\r\n                                            <i class=\"icon-coments\"></i>\r\n                                            {{item.comments}}\r\n                                        </a>\r\n                                        <a href=\"javascript:;\">\r\n                                            <i class=\"icon-date\"></i>\r\n                                            {{item.releaseTime}}\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"card-right\">\r\n                                    <img v-if=\"item.imgUrl\" :src=\"item.imgUrl\" alt=\"img\">\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </div>\r\n                    <div v-else class=\"no-article-data\">\r\n                        <span>暂无数据</span>\r\n                    </div>\r\n                </el-card>\r\n            </el-col>\r\n            <right-show></right-show>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import rightShow from '../home/components/right-show' ;\r\n    import { getAllTypeList } from '@/api/type' ;\r\n    import { getArticleListByType } from '@/api/article' ;\r\n    import { getAllTags } from '@/api/tags' ;\r\n    export default {\r\n        components : { rightShow },\r\n        name: \"article-detail\",\r\n        data() {\r\n            return {\r\n                cardDataArr: [],\r\n                tagsArr: [],\r\n                typeList: [],\r\n                breadcrumbData: [],\r\n                listQuery: {\r\n                    pageNum: 1,\r\n                    pageSize: 10,\r\n                    articlePath: '',\r\n                },\r\n                loading: null\r\n            }\r\n        },\r\n        methods: {\r\n            changTime(time, day) {\r\n                if (!time) {\r\n                    return '暂无数据'\r\n                }\r\n                const testTime = new Date( time ) ;\r\n                const year = testTime.getFullYear() ;\r\n                const month = testTime.getMonth() + 1 ;\r\n                const date = testTime.getDate() ;\r\n                const hour = testTime.getHours() ;\r\n                const minutes = testTime.getMinutes() ;\r\n                const seconds = testTime.getSeconds() ;\r\n                return day ? `${year}年${month}月${date}日` : `${year}年${month}月${date}日-${hour < 10 ? '0' + hour : hour}:${minutes < 10 ? '0' + minutes : minutes}:${seconds < 10 ? '0' + seconds : seconds}`\r\n            },\r\n            handleSelect(_) {\r\n                if ( _ === this.listQuery.articlePath ) return ;\r\n                this.$router.push( `/home/article-list?path=${ _ }` ) ;\r\n                this.getDataList() ;\r\n            },\r\n            createArticle() {\r\n                this.$router.push( '/home/add-article' )\r\n            },\r\n            getAllTypeList() {\r\n                return new Promise( ( resolve, reject ) => {\r\n                    getAllTypeList( {} ).then( res => {\r\n                        const { status, data } = res ;\r\n                        this.$set( this, 'typeList', [] ) ;\r\n                        if ( status === 0 ) {\r\n                            if ( data && data.length ) {\r\n                                data.map( item => {\r\n                                    if ( item.upperType === 1 ) {\r\n                                        this.typeList.push( Object.assign( item, {\r\n                                            children: []\r\n                                        } ) )\r\n                                    }\r\n                                } ) ;\r\n                                if ( this.typeList.length ) {\r\n                                    data.map( item => {\r\n                                        this.typeList.find( itemInner => {\r\n                                            if ( itemInner.value === item.upperType ) {\r\n                                                itemInner.children.push( item ) ;\r\n                                            }\r\n                                        } )\r\n                                    } ) ;\r\n                                    this.typeList.sort( (a, b) => {\r\n                                        return a.typeSort - b.typeSort ;\r\n                                    } )\r\n                                }\r\n                                resolve() ;\r\n                            }\r\n                        }\r\n                    } ).catch( err => reject( err ) ) ;\r\n                } )\r\n            },\r\n            getAllTagsList() {\r\n                return new Promise( ( (resolve, reject) => {\r\n                    getAllTags( {} )\r\n                        .then( res => {\r\n                            const { status, data } = res ;\r\n                            if ( status === 0 ) {\r\n                                this.tagsArr = data ;\r\n                                resolve()\r\n                            } else {\r\n                                reject( new Error( `服务器错误` ) )\r\n                            }\r\n                        } )\r\n                        .catch( err => reject( err ) ) ;\r\n                } ) )\r\n            },\r\n            changeColorToRgb(hex, op) {\r\n                let color = [], rgb = [];\r\n                hex = hex.replace(/#/,\"\");\r\n\r\n                if (hex.length === 3) { // 处理 \"#abc\" 成 \"#aabbcc\"\r\n                    let tmp = [];\r\n                    for (let i = 0; i < 3; i++) {\r\n                        tmp.push(hex.charAt(i) + hex.charAt(i));\r\n                    }\r\n                    hex = tmp.join(\"\");\r\n                }\r\n\r\n                for (let i = 0; i < 3; i++) {\r\n                    color[i] = \"0x\" + hex.substr(i * 2, 2);\r\n                    rgb.push(parseInt( Number( color[ i ] )) );\r\n                }\r\n                return \"rgba(\" + rgb.join(\",\") + \", \" + ( op ? op : 1 ) + \")\";\r\n            },\r\n            getDataList() {\r\n                this.loading = this.$loading( {\r\n                    lock: true,\r\n                    text: '加载中...',\r\n                    background: 'rgba(0, 0, 0, .9)'\r\n                } ) ;\r\n                this.listQuery.articlePath = this.$route.query[ `path` ] ? this.$route.query[ `path` ]\r\n                    : this.typeList[ 0 ].children.length ? this.typeList[ 0 ].children[ 0 ].typePath\r\n                        :  this.typeList[ 0 ].typePath ;\r\n                if ( this.typeList && this.typeList.length ) {\r\n                    this.$set( this, `breadcrumbData`, [] ) ;\r\n                    if (\r\n                        !this.typeList.find( item => {\r\n                            if ( item.children && item.children.length ) {\r\n                                return item.children.find( itemInner => {\r\n                                    if ( itemInner.typePath === this.listQuery.articlePath ) {\r\n                                        this.breadcrumbData.push( item ) ;\r\n                                        this.breadcrumbData.push( itemInner ) ;\r\n                                        return true\r\n                                    }\r\n                                } )\r\n                            } else {\r\n                                if ( item.typePath === this.listQuery.articlePath ) {\r\n                                    this.breadcrumbData.push( item ) ;\r\n                                    return true\r\n                                }\r\n                            }\r\n                        } )\r\n                    ) {\r\n                        if (  this.typeList[ 0 ].children && this.typeList[ 0 ].children.length  ) {\r\n                            this.breadcrumbData.push( this.typeList[ 0 ] ) ;\r\n                            this.breadcrumbData.push( this.typeList[ 0 ].children[ 0 ] ) ;\r\n                            this.listQuery.articlePath = this.typeList[ 0 ].children[ 0 ].typePath ;\r\n                        } else {\r\n                            this.breadcrumbData.push( this.typeList[ 0 ] ) ;\r\n                            this.listQuery.articlePath = this.typeList[ 0 ].typePath ;\r\n                        }\r\n                        this.$message( {\r\n                            message: `对不起,没有找到对应的文章类型`,\r\n                            type: 'error'\r\n                        } ) ;\r\n                    }\r\n                } else {\r\n                    this.$message( {\r\n                        message: `请联系博主添加文章类型`,\r\n                        type: 'error'\r\n                    } ) ;\r\n                    this.$router.push( '/home/index' ) ;\r\n                    return\r\n                }\r\n                getArticleListByType( this.listQuery )\r\n                    .then( res => {\r\n                        this.$set( this, 'cardDataArr', [] ) ;\r\n                        const { status, data } = res ;\r\n                        if ( status === 0 ) {\r\n                            if ( data && data.length ) {\r\n                                data.map( ( item, index ) => {\r\n                                    this.cardDataArr.push( {\r\n                                        id: item._id,\r\n                                        title: item.title,\r\n                                        tags: [],\r\n                                        content: item.description,\r\n                                        imgUrl: item.poster,\r\n                                        author: item.author || 'xyzzzzz',\r\n                                        readCount: item[ 'views' ],\r\n                                        comments: item.comments.length,\r\n                                        releaseTime: this.changTime( item.create )\r\n                                    } ) ;\r\n                                    if ( item.tags && item.tags.length ) {\r\n                                        item.tags.map( itemTagValue => {\r\n                                            this.tagsArr.find( itemTag => {\r\n                                                if ( itemTagValue === itemTag.value ) {\r\n                                                    this.cardDataArr[ index ].tags.push( itemTag ) ;\r\n                                                    return true\r\n                                                }\r\n                                            } )\r\n                                        } )\r\n                                    }\r\n                                } )\r\n                            }\r\n                            this.loading.close() ;\r\n                        }\r\n                    } )\r\n\r\n            }\r\n        },\r\n        created() {\r\n            this.loading = this.$loading( {\r\n                lock: true,\r\n                text: '加载中...',\r\n                background: 'rgba(0, 0, 0, .9)'\r\n            } ) ;\r\n            Promise.all( [ this.getAllTypeList(), this.getAllTagsList() ] ).then( () => {\r\n                this.getDataList() ;\r\n            } ) ;\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    /*文章列表没有数据时展示盒模型的样式*/\r\n    .no-article-data {\r\n        height: 200px;\r\n        border: 1px solid #ebeef5;\r\n        position: relative;\r\n    }\r\n    .no-article-data > span {\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate3d(-50%, -50%, 0);\r\n        height: 20px;\r\n        width: auto;\r\n    }\r\n\r\n\r\n    .article-type-title {\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n    }\r\n    .article-title {\r\n        font-size: 24px;\r\n        line-height: 30px;\r\n        font-weight: normal;\r\n        padding-bottom: 20px;\r\n        border-bottom: 1px solid #e8e8e8;\r\n        margin: 0px 0 20px 0;\r\n        text-align: center;\r\n        font-family: \"Microsoft YaHei\", 'Myriad Pro','Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n    }\r\n    .copyright-area {\r\n        background-color: #f0f0f0;\r\n        padding: 10px;\r\n        margin-bottom: 20px;\r\n    }\r\n    .content {\r\n        font-size: 16px;\r\n    }\r\n    .actions {\r\n        padding-left: 10px;\r\n        margin-top: 20px;\r\n        line-height: 30px;\r\n        width: 300px;\r\n        border: silver 1px dashed;\r\n    }\r\n    .actions > a {\r\n        color: #666;\r\n        font-weight: bold;\r\n        margin-right: 10px;\r\n    }\r\n    .actions > a > i {\r\n        font-weight: bold;\r\n        margin-right: 2px;\r\n        vertical-align: baseline;\r\n    }\r\n    .pre-or-next {\r\n        line-height: 20px;\r\n        margin-top: 20px;\r\n    }\r\n    .pre-or-next a {\r\n        margin-left: 10px;\r\n    }\r\n    .comments {\r\n        margin-top: 30px;\r\n    }\r\n    .comments > h4 {\r\n        font-weight: bold;\r\n        line-height: 20px;\r\n        border-bottom: 1px solid #ccc;\r\n    }\r\n    .comments .comment-header {\r\n        line-height: 30px;\r\n        font-size: 14px;\r\n    }\r\n    .comments ul li {\r\n        border-bottom: 1px solid #ccc;\r\n    }\r\n    .comments ul li .comment-content {\r\n        padding: 20px 10px 20px 10px;\r\n    }\r\n    .related-articles {\r\n        margin-top: 20px;\r\n        margin-bottom: 30px;\r\n    }\r\n    .related-articles h4 {\r\n        margin-bottom: 10px;\r\n    }\r\n    .related-articles > ul li {\r\n        line-height: 16px;\r\n    }\r\n    .related-articles > ul li a {\r\n        font-size: 14px;\r\n        color: blue;\r\n    }\r\n    .container {\r\n        margin-top: 10px;\r\n    }\r\n    .card-left {\r\n        float: left;\r\n        width: 75%;\r\n    }\r\n    .card-right {\r\n        float: right;\r\n    }\r\n    .card-right img {\r\n        width: 160px;\r\n        height: 160px;\r\n    }\r\n    .card-title {\r\n        font-weight: bold;\r\n        color: #333;\r\n        font-size: 16px;\r\n        margin-bottom: 10px;\r\n    }\r\n    .card-data-info > a {\r\n        margin-right: 8px;\r\n    }\r\n    .card-data-info > a > i {\r\n        font-weight: bold!important;\r\n    }\r\n    .create-article-btn {\r\n        float: right;\r\n        background: linear-gradient(to right, #6EE4E7, #c0e3e7);\r\n        border: none;\r\n    }\r\n    .tag {\r\n        display: inline-block;\r\n        padding: 0 5px;\r\n        height: 20px;\r\n        line-height: 19px;\r\n        font-size: 12px;\r\n        border-radius: 4px;\r\n        box-sizing: border-box;\r\n        white-space: nowrap;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/article/article-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"width\"},[_c('el-menu',{staticClass:\"el-menu-demo\",attrs:{\"default-active\":_vm.listQuery.articlePath,\"mode\":\"horizontal\"},on:{\"select\":_vm.handleSelect}},[_vm._l((_vm.typeList),function(type){return [(type.children.length)?_c('el-submenu',{key:type.value,attrs:{\"index\":type.typePath}},[_c('template',{slot:\"title\"},[_vm._v(_vm._s(type.typeName))]),_vm._v(\" \"),_vm._l((type.children),function(typeSub){return _c('el-menu-item',{key:typeSub.value,attrs:{\"index\":typeSub.typePath}},[_vm._v(_vm._s(typeSub.typeName))])})],2):_c('el-menu-item',{key:type.value,attrs:{\"index\":type.typePath}},[_vm._v(_vm._s(type.typeName))])]})],2),_vm._v(\" \"),_c('el-breadcrumb',{staticStyle:{\"height\":\"50px\",\"line-height\":\"50px\",\"padding-left\":\"20px\",\"margin-top\":\"20px\",\"background-color\":\"rgb(240, 240, 240)\"},attrs:{\"separator\":\">\"}},_vm._l((_vm.breadcrumbData),function(item){return _c('el-breadcrumb-item',{key:item._id},[_vm._v(\"\\n            \"+_vm._s(item.typeName)+\"\\n        \")])})),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":18}},[_c('el-card',{staticClass:\"box-card\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"shadow\":\"never\"}},[_c('div',{staticClass:\"clear-fix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',{staticClass:\"article-type-title\"},[_vm._v(_vm._s(_vm.breadcrumbData[_vm.breadcrumbData.length - 1] ? _vm.breadcrumbData[_vm.breadcrumbData.length - 1].typeName : \"\"))]),_vm._v(\" \"),_c('el-button',{staticClass:\"create-article-btn\",attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.createArticle}},[_vm._v(\"发表文章\")])],1),_vm._v(\" \"),(_vm.cardDataArr.length)?_c('div',_vm._l((_vm.cardDataArr),function( item,index){return _c('el-card',{key:index,staticClass:\"box-card\",staticStyle:{\"margin-top\":\"20px\"},attrs:{\"shadow\":\"hover\"}},[_c('div',{staticClass:\"clear-fix\",staticStyle:{\"position\":\"relative\"},on:{\"click\":function($event){_vm.$router.push( (\"/home/article-detail?id=\" + (item.id)) )}}},[_c('div',{staticClass:\"card-left\"},[_c('div',{staticClass:\"card-title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_vm._l((item.tags),function(itemInner){return _c('a',{key:itemInner.value,staticStyle:{\"display\":\"inline-block\",\"margin-right\":\"8px\"},attrs:{\"href\":\"javascript:;\"}},[_c('span',{staticClass:\"tag\",style:({ background: _vm.changeColorToRgb( itemInner.background, .2 ), color: itemInner.color, borderColor: _vm.changeColorToRgb( itemInner.color, .1 ) })},[_vm._v(_vm._s(itemInner.label))])])}),_vm._v(\" \"),_c('p',{staticStyle:{\"margin-top\":\"10px\",\"line-height\":\"20px\"}},[_vm._v(_vm._s(item.content))]),_vm._v(\" \"),_c('div',{staticClass:\"card-data-info\",style:(item.imgUrl ? { position: 'absolute', bottom: '0', left: '0' } : { marginTop: '20px' })},[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_c('i',{staticClass:\"icon-author\"}),_vm._v(\"\\n                                        \"+_vm._s(item.author)+\"\\n                                    \")]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"javascript:;\"}},[_c('i',{staticClass:\"icon-views\"}),_vm._v(\"\\n                                        \"+_vm._s(item.readCount)+\"\\n                                    \")]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"javascript:;\"}},[_c('i',{staticClass:\"icon-coments\"}),_vm._v(\"\\n                                        \"+_vm._s(item.comments)+\"\\n                                    \")]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"javascript:;\"}},[_c('i',{staticClass:\"icon-date\"}),_vm._v(\"\\n                                        \"+_vm._s(item.releaseTime)+\"\\n                                    \")])])],2),_vm._v(\" \"),_c('div',{staticClass:\"card-right\"},[(item.imgUrl)?_c('img',{attrs:{\"src\":item.imgUrl,\"alt\":\"img\"}}):_vm._e()])])])})):_c('div',{staticClass:\"no-article-data\"},[_c('span',[_vm._v(\"暂无数据\")])])])],1),_vm._v(\" \"),_c('right-show')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cae84e36\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/article/article-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cae84e36\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./article-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./article-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./article-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cae84e36\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./article-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cae84e36\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/article/article-list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}