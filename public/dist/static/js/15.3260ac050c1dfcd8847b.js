webpackJsonp([15],{YdiE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("9TmC"),i={name:"article-manager",data:function(){return{list:[],tableLoading:!1,tableKey:0,listQuery:{pageNum:1,pageSize:10},total:0}},methods:{handleSizeChange:function(t){this.listQuery.pageSize=t,this.getList()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.getList()},getList:function(){var t=this;this.tableLoading=!0,Object(a.f)(this.listQuery).then(function(e){var n=e.status,a=e.data,i=e.total;0===n&&(t.list=a,t.total=i,t.tableLoading=!1)}).catch(function(t){return console.log(t)})},handleAddHot:function(t){var e=this;Object(a.l)({_id:t._id,hot:!t.hot}).then(function(t){0===t.status&&(e.$message({message:"操作成功",type:"success"}),e.getList())})},handleDelete:function(t){var e=this;this.$confirm("确定要删除吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(a.b)({_id:t._id}).then(function(t){0===t.status&&(e.$message({message:"操作成功",type:"success"}),e.getList())})}).catch(function(){})},changTime:function(t,e){if(!t)return"暂无数据";var n=new Date(t),a=n.getFullYear(),i=n.getMonth()+1,s=n.getDate(),l=n.getHours(),o=n.getMinutes(),r=n.getSeconds();return e?a+"年"+i+"月"+s+"日":a+"年"+i+"月"+s+"日-"+(l<10?"0"+l:l)+":"+(o<10?"0"+o:o)+":"+(r<10?"0"+r:r)}},created:function(){this.getList()}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.title))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",width:"200",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t.changTime(e.row.create)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",width:"200",label:"更新时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t.changTime(e.row.update)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作",width:"280","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(n){t.$router.push("/home/edit-article?id="+e.row._id)}}},[t._v("编辑")]),t._v(" "),e.row.hot?n("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(n){t.handleAddHot(e.row)}}},[t._v("删除热门")]):n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(n){t.handleAddHot(e.row)}}},[t._v("添加热门")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("div",{staticClass:"pagination-container",staticStyle:{"text-align":"center","margin-top":"20px",position:"relative"}},[n("el-pagination",{attrs:{background:"","current-page":t.listQuery.pageNum,"page-sizes":[10,20,30,50],"page-size":t.listQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var l=n("VU/8")(i,s,!1,function(t){n("l8kJ")},"data-v-59c2d9ca",null);e.default=l.exports},l8kJ:function(t,e){}});
//# sourceMappingURL=15.3260ac050c1dfcd8847b.js.map