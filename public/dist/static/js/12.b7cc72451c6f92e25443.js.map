{"version":3,"sources":["webpack:///src/components/setting/components/tag-manager.vue","webpack:///./src/components/setting/components/tag-manager.vue?14e3","webpack:///./src/components/setting/components/tag-manager.vue"],"names":["tag_manager","name","data","tableLoading","list","tableKey","total","listQuery","pageNum","pageSize","addTagDialog","form","label","background","color","methods","hotTagUpdate","row","_this2","this","Object","tags","_id","hot","then","res","status","$message","message","type","getDataList","handleDelete","_this3","$confirm","confirmButtonText","cancelButtonText","catch","changTime","time","day","testTime","Date","year","getFullYear","month","getMonth","date","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds","changeColorToRgb","hex","rgb","replace","length","tmp","i","push","charAt","join","_i","substr","parseInt","Number","handleAdd","handleResetAddTagForm","assign_default","handleUpdate","_this4","_this5","map","item","edit","createNewTag","_this6","handleSizeChange","val","handleCurrentChange","created","components_tag_manager","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","key","staticStyle","width","attrs","element-loading-text","border","fit","highlight-current-row","_v","align","scopedSlots","_u","fn","scope","staticClass","size","model","callback","$$v","$set","_s","display","height","vertical-align","style","create","update","class-name","on","click","$event","text-align","margin-top","position","current-page","page-sizes","page-size","layout","size-change","current-change","right","top","title","append-to-body","visible","update:visible","ref","label-position","label-width","prop","placeholder","borderColor","_e","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.b7cc72451c6f92e25443.js","sourcesContent":["<template>\r\n    <div>\r\n        <el-table :key='tableKey'\r\n                  :data=\"list\"\r\n                  element-loading-text=\"loading\"\r\n                  v-loading=\"tableLoading\"\r\n                  border\r\n                  fit\r\n                  highlight-current-row\r\n                  style=\"width: 100%;\">\r\n            <el-table-column type=\"index\" width=\"50\"></el-table-column>\r\n            <el-table-column align=\"center\" label=\"内容\">\r\n                <template slot-scope=\"scope\">\r\n                    <template v-if=\"scope.row.edit\">\r\n                        <el-input class=\"edit-input\"\r\n                                  size=\"small\"\r\n                                  v-model=\"scope.row.label\"></el-input>\r\n                    </template>\r\n                    <span v-else>{{scope.row.label}}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"背景\">\r\n                <template slot-scope=\"scope\">\r\n                    <template v-if=\"scope.row.edit\">\r\n                        <el-color-picker v-model=\"scope.row.background\"></el-color-picker>\r\n                    </template>\r\n                    <div v-else>\r\n                        <span>{{scope.row.background}}</span>\r\n                        <span style=\"display: inline-block;width: 20px;height: 20px;vertical-align: middle;\"\r\n                              :style=\"{ background: scope.row.background }\"></span>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" label=\"文字\">\r\n                <template slot-scope=\"scope\">\r\n                    <template v-if=\"scope.row.edit\">\r\n                        <el-color-picker v-model=\"scope.row.color\"></el-color-picker>\r\n                    </template>\r\n                    <div v-else>\r\n                        <span>{{scope.row.color}}</span>\r\n                        <span style=\"display: inline-block;width: 20px;height: 20px;vertical-align: middle;\"\r\n                              :style=\"{ background: scope.row.color }\"></span>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column align=\"center\" width=\"200\" label=\"创建时间\">\r\n                <template slot-scope=\"scope\">\r\n                    <span>{{changTime( scope.row.create )}}</span>\r\n                </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column align=\"center\" width=\"200\" label=\"更新时间\">\r\n                <template slot-scope=\"scope\">\r\n                    <span>{{changTime( scope.row.update )}}</span>\r\n                </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column align=\"center\" label=\"操作\"\r\n                             width=\"270\"\r\n                             class-name=\"small-padding fixed-width\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button size=\"mini\"\r\n                               v-if=\"!scope.row.edit\"\r\n                               type=\"success\"\r\n                               @click=\"scope.row.edit = true\">编辑</el-button>\r\n                    <el-button size=\"mini\"\r\n                               v-else\r\n                               type=\"success\"\r\n                               @click=\"handleUpdate(scope.row)\">修改</el-button>\r\n\r\n                    <el-button size=\"mini\"\r\n                               v-if=\"scope.row.hot\"\r\n                               type=\"warning\"\r\n                               @click=\"hotTagUpdate( scope.row )\">取消热门</el-button>\r\n                    <el-button size=\"mini\"\r\n                               v-else\r\n                               type=\"success\"\r\n                               @click=\"hotTagUpdate( scope.row )\">添加热门</el-button>\r\n                    <el-button size=\"mini\"\r\n                               type=\"danger\"\r\n                               @click=\"handleDelete(scope.row)\">删除</el-button>\r\n\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <div class=\"pagination-container\"\r\n             style=\"text-align: center;margin-top: 20px;position: relative;\">\r\n            <el-pagination background\r\n                           @size-change=\"handleSizeChange\"\r\n                           @current-change=\"handleCurrentChange\"\r\n                           :current-page=\"listQuery.pageNum\"\r\n                           :page-sizes=\"[10,20,30,50]\"\r\n                           :page-size=\"listQuery.pageSize\"\r\n                           layout=\"total, sizes, prev, pager, next, jumper\"\r\n                           :total=\"total\">\r\n            </el-pagination>\r\n            <el-button type=\"primary\"\r\n                       style=\"position: absolute;right: 40px;top: 0;\"\r\n                       @click=\"handleAdd\">添加</el-button>\r\n        </div>\r\n\r\n        <el-dialog title=\"新增标签\"\r\n                   append-to-body\r\n                   :visible.sync=\"addTagDialog\">\r\n            <el-form :ref=\"`form`\"\r\n                     :model=\"form\"\r\n                     label-position=\"left\"\r\n                     label-width=\"100px\">\r\n                <el-form-item label=\"名称\" prop=\"label\">\r\n                    <el-input style=\"width: 300px;\"\r\n                              placeholder=\"请输入标签内容\"\r\n                              v-model=\"form.label\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"背景颜色\" prop=\"background\">\r\n                    <el-color-picker v-model=\"form.background\"></el-color-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"文字颜色\" prop=\"color\">\r\n                    <el-color-picker v-model=\"form.color\"></el-color-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"预览\" prop=\"review\">\r\n                    <span class=\"tag-box\"\r\n                          v-if=\"!!form.label\"\r\n                          :style=\"{ background: form.background, color: form.color, borderColor: changeColorToRgb( form.color ) }\">{{form.label}}</span>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"addTagDialog = false\">取 消</el-button>\r\n                <el-button type=\"primary\"\r\n                           @click=\"createNewTag\">添 加</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { addNewTag, getList, updateTag, delTag, updateHotTags } from '@/api/tags' ;\r\n    export default {\r\n        name: \"tag-manager\",\r\n        data() {\r\n            return {\r\n                tableLoading: false,\r\n                list: [],\r\n                tableKey: 0,\r\n                total: 0,\r\n                listQuery: {\r\n                    pageNum: 1,\r\n                    pageSize: 10\r\n                },\r\n                addTagDialog: false,\r\n                form: {\r\n                    label: '',\r\n                    background: '#000',\r\n                    color: '#000'\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            hotTagUpdate( row ) {\r\n                updateHotTags( { _id: row._id, hot: !row.hot } )\r\n                    .then( res => {\r\n                        const { status } = res ;\r\n                        if ( status === 0 ) {\r\n                            this.$message( {\r\n                                message: '操作成功',\r\n                                type: 'success'\r\n                            } ) ;\r\n                            this.getDataList() ;\r\n                        }\r\n                    } )\r\n            },\r\n            handleDelete(row) {\r\n                const _this = this\r\n                _this.$confirm(`确定要删除吗`, '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then( () => {\r\n                    delTag( { _id: row._id } )\r\n                        .then( res => {\r\n                            const { status } = res ;\r\n                            if ( status === 0 ) {\r\n                                this.$message( {\r\n                                    message: '删除成功',\r\n                                    type: 'success'\r\n                                } ) ;\r\n                                this.getDataList() ;\r\n                            }\r\n                        } )\r\n                } )\r\n                    .catch( () => {} )\r\n            },\r\n            changTime(time, day) {\r\n                if (!time) {\r\n                    return '暂无数据'\r\n                }\r\n                const testTime = new Date( time )\r\n                const year = testTime.getFullYear()\r\n                const month = testTime.getMonth() + 1\r\n                const date = testTime.getDate()\r\n                const hour = testTime.getHours()\r\n                const minutes = testTime.getMinutes()\r\n                const seconds = testTime.getSeconds()\r\n                return day ? `${year}年${month}月${date}日` : `${year}年${month}月${date}日-${hour < 10 ? '0' + hour : hour}:${minutes < 10 ? '0' + minutes : minutes}:${seconds < 10 ? '0' + seconds : seconds}`\r\n            },\r\n            changeColorToRgb(hex) {\r\n                let color = [], rgb = [];\r\n                hex = hex.replace(/#/,\"\");\r\n\r\n                if (hex.length === 3) { // 处理 \"#abc\" 成 \"#aabbcc\"\r\n                    let tmp = [];\r\n                    for (let i = 0; i < 3; i++) {\r\n                        tmp.push(hex.charAt(i) + hex.charAt(i));\r\n                    }\r\n                    hex = tmp.join(\"\");\r\n                }\r\n\r\n                for (let i = 0; i < 3; i++) {\r\n                    color[i] = \"0x\" + hex.substr(i * 2, 2);\r\n                    rgb.push(parseInt( Number( color[ i ] )) );\r\n                }\r\n                return \"rgba(\" + rgb.join(\",\") + \", .2)\";\r\n            },\r\n            handleAdd() {\r\n                this.handleResetAddTagForm() ;\r\n                this.addTagDialog = true\r\n            },\r\n            handleResetAddTagForm() {\r\n                this.form = Object.assign( this.form, {\r\n                    label: '',\r\n                    background: '#000',\r\n                    color: '#000'\r\n                } )\r\n            },\r\n            handleUpdate(row) {\r\n                updateTag( row )\r\n                    .then( res => {\r\n                        const { status } = res ;\r\n                        if ( status === 0 ) {\r\n                            this.$message( {\r\n                                message: '修改成功',\r\n                                type: 'success'\r\n                            } )\r\n                            this.getDataList() ;\r\n                        }\r\n                    } )\r\n            },\r\n            getDataList() {\r\n                this.tableLoading = true ;\r\n                return getList( this.listQuery )\r\n                    .then( res => {\r\n                        const { status, data, total } = res ;\r\n                        if ( status === 0 ) {\r\n                            this.list = data ;\r\n                            if ( this.list && this.list.length ) {\r\n                                this.list.map( item => {\r\n                                    item.edit = false ;\r\n                                } )\r\n                            }\r\n                            this.total = total ;\r\n                            this.tableLoading = false ;\r\n                        }\r\n                    } )\r\n            },\r\n            createNewTag() {\r\n                if ( !this.form.label ) {\r\n                    this.$message( {\r\n                        message: '请输入文本内容',\r\n                        type: 'error'\r\n                    } )\r\n                    return\r\n                }\r\n\r\n                addNewTag( this.form )\r\n                    .then( res => {\r\n                        if ( res.status === 0 ) {\r\n                            this.$message( {\r\n                                message: '操作成功',\r\n                                type: 'success'\r\n                            } ) ;\r\n                            this.getDataList() ;\r\n                            this.addTagDialog = false ;\r\n                        }\r\n                    } )\r\n            },\r\n            handleSizeChange(val) {\r\n                this.listQuery.pageSize = val\r\n                this.getDataList()\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.listQuery.pageNum = val\r\n                this.getDataList()\r\n            },\r\n        },\r\n        created() {\r\n            this.getDataList() ;\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.tag-box {\r\n    display: inline-block;\r\n    box-sizing: border-box;\r\n    vertical-align: middle;\r\n    border: 1px solid rgba(64,158,255,.2);\r\n    white-space: nowrap;\r\n    font-size: 12px;\r\n    border-radius: 4px;\r\n    height: 20px;\r\n    padding: 0 5px;\r\n    line-height: 19px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/setting/components/tag-manager.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tableLoading),expression:\"tableLoading\"}],key:_vm.tableKey,staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"element-loading-text\":\"loading\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"内容\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit)?[_c('el-input',{staticClass:\"edit-input\",attrs:{\"size\":\"small\"},model:{value:(scope.row.label),callback:function ($$v) {_vm.$set(scope.row, \"label\", $$v)},expression:\"scope.row.label\"}})]:_c('span',[_vm._v(_vm._s(scope.row.label))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"背景\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit)?[_c('el-color-picker',{model:{value:(scope.row.background),callback:function ($$v) {_vm.$set(scope.row, \"background\", $$v)},expression:\"scope.row.background\"}})]:_c('div',[_c('span',[_vm._v(_vm._s(scope.row.background))]),_vm._v(\" \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"20px\",\"height\":\"20px\",\"vertical-align\":\"middle\"},style:({ background: scope.row.background })})])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"文字\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit)?[_c('el-color-picker',{model:{value:(scope.row.color),callback:function ($$v) {_vm.$set(scope.row, \"color\", $$v)},expression:\"scope.row.color\"}})]:_c('div',[_c('span',[_vm._v(_vm._s(scope.row.color))]),_vm._v(\" \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"20px\",\"height\":\"20px\",\"vertical-align\":\"middle\"},style:({ background: scope.row.color })})])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"width\":\"200\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.changTime( scope.row.create )))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"width\":\"200\",\"label\":\"更新时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.changTime( scope.row.update )))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"270\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.edit)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){scope.row.edit = true}}},[_vm._v(\"编辑\")]):_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){_vm.handleUpdate(scope.row)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),(scope.row.hot)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\"},on:{\"click\":function($event){_vm.hotTagUpdate( scope.row )}}},[_vm._v(\"取消热门\")]):_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){_vm.hotTagUpdate( scope.row )}}},[_vm._v(\"添加热门\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination-container\",staticStyle:{\"text-align\":\"center\",\"margin-top\":\"20px\",\"position\":\"relative\"}},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.listQuery.pageNum,\"page-sizes\":[10,20,30,50],\"page-size\":_vm.listQuery.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"position\":\"absolute\",\"right\":\"40px\",\"top\":\"0\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新增标签\",\"append-to-body\":\"\",\"visible\":_vm.addTagDialog},on:{\"update:visible\":function($event){_vm.addTagDialog=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"label\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":\"请输入标签内容\"},model:{value:(_vm.form.label),callback:function ($$v) {_vm.$set(_vm.form, \"label\", $$v)},expression:\"form.label\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"背景颜色\",\"prop\":\"background\"}},[_c('el-color-picker',{model:{value:(_vm.form.background),callback:function ($$v) {_vm.$set(_vm.form, \"background\", $$v)},expression:\"form.background\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"文字颜色\",\"prop\":\"color\"}},[_c('el-color-picker',{model:{value:(_vm.form.color),callback:function ($$v) {_vm.$set(_vm.form, \"color\", $$v)},expression:\"form.color\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"预览\",\"prop\":\"review\"}},[(!!_vm.form.label)?_c('span',{staticClass:\"tag-box\",style:({ background: _vm.form.background, color: _vm.form.color, borderColor: _vm.changeColorToRgb( _vm.form.color ) })},[_vm._v(_vm._s(_vm.form.label))]):_vm._e()])],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addTagDialog = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createNewTag}},[_vm._v(\"添 加\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-454aae2f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/setting/components/tag-manager.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-454aae2f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tag-manager.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tag-manager.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tag-manager.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-454aae2f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./tag-manager.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-454aae2f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/setting/components/tag-manager.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}