{"version":3,"sources":["webpack:///src/components/setting/components/todo-list.vue","webpack:///./src/api/todos/index.js","webpack:///./src/components/setting/components/todo-list.vue?3bf4","webpack:///./src/components/setting/components/todo-list.vue"],"names":["todo_list","name","data","form","todoTitle","todoType","finishDate","content","completeDate","formDisabled","todoDialogTitle","todoDialog","list","tableLoading","tableKey","listQuery","pageNum","pageSize","isFinish","total","rules","required","message","trigger","methods","lookDetailTodo","row","this","assign_default","finishTodo","_this2","_id","Object","request","url","proxy","method","then","res","status","$message","type","getList","updateTodo","_this3","$nextTick","$refs","clearValidate","showDialog","_this4","$set","resetFields","handleAdd","_this5","validate","valid","handleEditSubmit","_this6","isFinishClassName","scope","handleSizeChange","val","handleCurrentChange","_this7","catch","err","console","log","handleDelete","_this8","$confirm","confirmButtonText","cancelButtonText","changTime","time","day","testTime","Date","year","getFullYear","month","getMonth","date","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds","created","components_todo_list","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","key","staticStyle","width","attrs","element-loading-text","row-class-name","border","fit","highlight-current-row","_v","align","label","scopedSlots","_u","fn","_s","staticClass","class-name","_e","size","on","click","$event","text-align","margin-top","position","background","current-page","page-sizes","page-size","layout","size-change","current-change","right","top","title","custom-class","append-to-body","center","visible","update:visible","ref","padding-bottom","model","label-position","label-width","prop","disabled","callback","$$v","placeholder","rows","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/16.5ef5ec3f4ca44f26909f.js","sourcesContent":["<template>\r\n    <div class=\"\">\r\n        <el-table :key='tableKey'\r\n                  :data=\"list\"\r\n                  element-loading-text=\"loading\"\r\n                  v-loading=\"tableLoading\"\r\n                  :row-class-name=\"isFinishClassName\"\r\n                  border\r\n                  fit\r\n                  highlight-current-row\r\n                  style=\"width: 100%;\">\r\n            <el-table-column type=\"index\"></el-table-column>\r\n\r\n            <el-table-column align=\"center\"\r\n                             label=\"事项标题\">\r\n                <template slot-scope=\"scope\">\r\n                    <span>{{scope.row.todoTitle}}</span>\r\n                </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column align=\"center\"\r\n                             label=\"当前状态\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-tag type=\"success\"\r\n                            v-if=\"scope.row.isFinish\">已完成</el-tag>\r\n                    <el-tag type=\"warning\"\r\n                            v-else>未完成</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column align=\"center\" label=\"计划完成时间\">\r\n                <template slot-scope=\"scope\">\r\n                    <span>{{ changTime(scope.row.finishDate, true) }}</span>\r\n                </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column align=\"center\" width=\"350\" label=\"待办内容\">\r\n                <template slot-scope=\"scope\">\r\n                    <span class=\"message-content\">{{scope.row.content}}</span>\r\n                </template>\r\n            </el-table-column>\r\n\r\n\r\n            <el-table-column align=\"center\" label=\"操作\"\r\n                             width=\"280\"\r\n                             class-name=\"small-padding fixed-width\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button size=\"mini\"\r\n                               type=\"success\"\r\n                               v-if=\"!scope.row.isFinish\"\r\n                               @click=\"finishTodo( scope.row )\">完成</el-button>\r\n                    <el-button size=\"mini\"\r\n                               type=\"success\"\r\n                               v-if=\"!scope.row.isFinish\"\r\n                               @click=\"updateTodo( scope.row )\">编辑</el-button>\r\n                    <el-button size=\"mini\"\r\n                               type=\"success\"\r\n                               v-if=\"scope.row.isFinish\"\r\n                               @click=\"lookDetailTodo( scope.row )\">详情</el-button>\r\n                    <el-button size=\"mini\"\r\n                               type=\"danger\"\r\n                               @click=\"handleDelete( scope.row )\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <div class=\"pagination-container\"\r\n             style=\"text-align: center;margin-top: 20px;position: relative;\">\r\n            <el-pagination background\r\n                           @size-change=\"handleSizeChange\"\r\n                           @current-change=\"handleCurrentChange\"\r\n                           :current-page=\"listQuery.pageNum\"\r\n                           :page-sizes=\"[10,20,30,50]\"\r\n                           :page-size=\"listQuery.pageSize\"\r\n                           layout=\"total, sizes, prev, pager, next, jumper\"\r\n                           :total=\"total\">\r\n            </el-pagination>\r\n            <el-button type=\"primary\"\r\n                       style=\"position: absolute;right: 40px;top: 0;\"\r\n                       @click=\"showDialog\">添加</el-button>\r\n        </div>\r\n\r\n        <el-dialog :title=\"todoDialogTitle\"\r\n                   custom-class=\"todo-dialog\"\r\n                   append-to-body\r\n                   center\r\n                   width=\"30%\"\r\n                   :visible.sync=\"todoDialog\">\r\n            <el-form :rules=\"rules\"\r\n                     :ref=\"`form`\"\r\n                     :model=\"form\"\r\n                     label-position=\"left\"\r\n                     label-width=\"25%\"\r\n                     style='width:100%;;padding-bottom: 0;'>\r\n                <el-form-item label=\"待办类型\"\r\n                              prop=\"todoType\">\r\n                    <el-input v-model=\"form.todoType\"\r\n                              :disabled=\"formDisabled\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"事项标题\" prop=\"todoTitle\">\r\n                    <el-input v-model=\"form.todoTitle\"\r\n                              :disabled=\"formDisabled\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"计划日期\"\r\n                              v-if=\"!formDisabled\"\r\n                              prop=\"finishDate\">\r\n                    <el-date-picker v-model=\"form.finishDate\"\r\n                                    type=\"date\"\r\n                                    placeholder=\"选择日期\">\r\n                    </el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"完成时间\"\r\n                              v-else\r\n                              prop=\"completeDate\">\r\n                    <el-date-picker v-model=\"form.completeDate\"\r\n                                    disabled\r\n                                    type=\"date\"\r\n                                    placeholder=\"选择日期\">\r\n                    </el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"待办内容\" prop=\"content\">\r\n                    <el-input v-model=\"form.content\"\r\n                              :disabled=\"formDisabled\"\r\n                              :rows=\"4\"\r\n                              type=\"textarea\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"todoDialog = false\">取 消</el-button>\r\n                <el-button @click=\"handleAdd\"\r\n                           v-if=\"todoDialogTitle === '新增待办事项'\"\r\n                           type=\"primary\">确 定</el-button>\r\n                <el-button @click=\"todoDialog = false\"\r\n                           v-if=\"todoDialogTitle === '查看事项详情'\"\r\n                           type=\"primary\">确 定</el-button>\r\n                <el-button @click=\"handleEditSubmit\"\r\n                           v-else-if=\"todoDialogTitle === '修改待办事项'\"\r\n                           type=\"primary\">修 改</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { updateArticleHot } from \"@/api/article\" ;\r\n    import { lookMessage } from \"@/api/message\" ;\r\n    import { addTodo, getTodosPage, finishTodo, deleteTodo, updateTodo } from \"@/api/todos\" ;\r\n    export default {\r\n        name: \"message-manager\",\r\n        data() {\r\n            return {\r\n                form: {\r\n                    todoTitle: '',\r\n                    todoType: '',\r\n                    finishDate: '',\r\n                    content: '',\r\n                    completeDate: ''\r\n                },\r\n                formDisabled: false,\r\n                todoDialogTitle: '新增待办事项',\r\n                todoDialog: false,\r\n                list: [],\r\n                tableLoading: false,\r\n                tableKey: 0,\r\n                listQuery: {\r\n                    pageNum: 1,\r\n                    pageSize: 10,\r\n                    isFinish: false\r\n                },\r\n                total: 0,\r\n                rules: {\r\n                    todoTitle: [{ required: true, message: '请输入标题', trigger: 'blur' }],\r\n                    todoType: [{ required: true, message: '请输入待办事项的类型', trigger: 'blur' }],\r\n                    finishDate: [{ required: true, message: '请选择计划完成的日期', trigger: 'blur' }],\r\n                    content: [{ required: true, message: '请输入待办的具体内容', trigger: 'blur' }],\r\n                    completeDate: [{ required: false, message: '', trigger: 'blur' }]\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            lookDetailTodo( row ) {\r\n                this.todoDialogTitle = '查看事项详情' ;\r\n                this.formDisabled = true ;\r\n                this.form = Object.assign( this.form, row ) ;\r\n                this.rules.completeDate[ 0 ].required = true ;\r\n                this.todoDialog = true ;\r\n            },\r\n            finishTodo( row ) {\r\n                this.tableLoading = true ;\r\n                finishTodo( { _id: row._id } ).then( res => {\r\n                    const { status } = res ;\r\n                    if ( status === 0 ) {\r\n                        this.$message( {\r\n                            message: '操作成功',\r\n                            type: 'success'\r\n                        } )\r\n                    }\r\n                    this.getList() ;\r\n                } ) ;\r\n            },\r\n            updateTodo( row ) {\r\n                this.todoDialogTitle = '修改待办事项' ;\r\n                this.rules.completeDate[ 0 ].required = false ;\r\n                this.formDisabled = false ;\r\n                this.form = Object.assign( this.form, row ) ;\r\n                this.todoDialog = true ;\r\n                this.$nextTick( () => {\r\n                    this.$refs[ `form` ].clearValidate() ;\r\n                } )\r\n            },\r\n            showDialog() {\r\n                this.todoDialogTitle = '新增待办事项' ;\r\n                this.formDisabled = false ;\r\n                this.$set( this, 'form', Object.assign( this.form, {\r\n                    todoTitle: '',\r\n                    todoType: '',\r\n                    finishDate: '',\r\n                    content: '',\r\n                    completeDate: ''\r\n                } ) ) ;\r\n                this.rules.completeDate[ 0 ].required = false ;\r\n                this.todoDialog = true ;\r\n                this.$nextTick( () => {\r\n                    this.$refs[ `form` ].resetFields() ;\r\n                } )\r\n            },\r\n            handleAdd() {\r\n                this.$refs[`form`].validate((valid) => {\r\n                    if (valid) {\r\n                        //todo: 对用户输入的内容进行正则验证\r\n                        addTodo( this.form ).then( res => {\r\n                            const { status } = res ;\r\n                            if ( status === 0 ) {\r\n                                this.$message( {\r\n                                    message: '添加成功',\r\n                                    type: 'success'\r\n                                } ) ;\r\n                                this.getList() ;\r\n                                this.todoDialog = false ;\r\n                            }\r\n                        } )\r\n                    }\r\n                });\r\n            },\r\n            handleEditSubmit() {\r\n                this.$refs[`form`].validate((valid) => {\r\n                    if (valid) {\r\n                        this.tableLoading = true ;\r\n                        updateTodo( this.form ).then( res => {\r\n                            const { status } = res ;\r\n                            if ( status === 0 ) {\r\n                                this.$message( {\r\n                                    message: '更新成功',\r\n                                    type: 'success'\r\n                                } ) ;\r\n                                this.getList() ;\r\n                                this.todoDialog = false ;\r\n                            }\r\n                        } )\r\n                    }\r\n                });\r\n            },\r\n            isFinishClassName( scope ) {\r\n                return scope.row[ `isFinish` ] ? '' : 'no-finish'\r\n            },\r\n            handleSizeChange(val) {\r\n                this.listQuery.pageSize = val ;\r\n                this.getList() ;\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.listQuery.pageNum = val ;\r\n                this.getList() ;\r\n            },\r\n            getList() {\r\n                this.tableLoading = true ;\r\n                getTodosPage( this.listQuery ).then( res => {\r\n                    const { status, data, total } = res ;\r\n                    if ( status === 0 ) {\r\n                        this.list = data ;\r\n                        this.total = total ;\r\n                        this.tableLoading = false ;\r\n                    }\r\n                } ).catch( err => console.log( err ) )\r\n            },\r\n            handleDelete( row ) {\r\n                const _this = this ;\r\n                _this.$confirm(`确定要删除吗`, '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then( () => {\r\n                    deleteTodo( { _id: row._id } ).then( res => {\r\n                        const { status } = res ;\r\n                        if ( status === 0 ) {\r\n                            this.$message( {\r\n                                message: '操作成功',\r\n                                type: 'success'\r\n                            } ) ;\r\n                            this.getList() ;\r\n                        }\r\n                    } )\r\n                } ).catch( () => {} )\r\n            },\r\n            changTime(time, day) {\r\n                if (!time) {\r\n                    return '暂无数据'\r\n                }\r\n                const testTime = new Date( time ) ;\r\n                const year = testTime.getFullYear() ;\r\n                const month = testTime.getMonth() + 1 ;\r\n                const date = testTime.getDate() ;\r\n                const hour = testTime.getHours() ;\r\n                const minutes = testTime.getMinutes() ;\r\n                const seconds = testTime.getSeconds() ;\r\n                return day ? `${year}年${month}月${date}日` : `${year}年${month}月${date}日-${hour < 10 ? '0' + hour : hour}:${minutes < 10 ? '0' + minutes : minutes}:${seconds < 10 ? '0' + seconds : seconds}`\r\n            }\r\n        },\r\n        created() {\r\n            this.getList() ;\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .message-content {\r\n        display: inline-block;\r\n        width: 100%;\r\n        overflow: hidden;\r\n        text-overflow:ellipsis;\r\n        white-space: nowrap;\r\n    }\r\n    .no-finish {\r\n        background: oldlace!important;\r\n    }\r\n    .todo-dialog .el-dialog__body {\r\n        padding-bottom: 0px;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/setting/components/todo-list.vue","import request from '@/util/request' ;\r\nimport proxy from '../proxy' ;\r\n\r\n/**\r\n *\r\n * 添加新的待办事项\r\n * @param data\r\n */\r\nexport function addTodo(data) {\r\n    return request( {\r\n        url: proxy + '/todos/addTodo',\r\n        method: 'POST',\r\n        data\r\n    } )\r\n}\r\n/**\r\n *\r\n * 获取到当前所有的todo信息的分页数据\r\n * @param data\r\n */\r\nexport function getTodosPage(data) {\r\n    return request( {\r\n        url: proxy + '/todos/getTodosPage',\r\n        method: 'POST',\r\n        data\r\n    } )\r\n}\r\n/**\r\n *\r\n * 完成当前待办事项\r\n * @param data\r\n */\r\nexport function finishTodo(data) {\r\n    return request( {\r\n        url: proxy + '/todos/finishTodo',\r\n        method: 'POST',\r\n        data\r\n    } )\r\n}\r\n/**\r\n *\r\n * 删除指定待办事项\r\n * @param data\r\n */\r\nexport function deleteTodo(data) {\r\n    return request( {\r\n        url: proxy + '/todos/deleteTodo',\r\n        method: 'POST',\r\n        data\r\n    } )\r\n}\r\n/**\r\n *\r\n * 更新某个待办事项\r\n * @param data\r\n */\r\nexport function updateTodo(data) {\r\n    return request( {\r\n        url: proxy + '/todos/updateTodo',\r\n        method: 'POST',\r\n        data\r\n    } )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/todos/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tableLoading),expression:\"tableLoading\"}],key:_vm.tableKey,staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"element-loading-text\":\"loading\",\"row-class-name\":_vm.isFinishClassName,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"事项标题\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.todoTitle))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"当前状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isFinish)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"已完成\")]):_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"未完成\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"计划完成时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.changTime(scope.row.finishDate, true)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"width\":\"350\",\"label\":\"待办内容\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"message-content\"},[_vm._v(_vm._s(scope.row.content))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"280\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.isFinish)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){_vm.finishTodo( scope.row )}}},[_vm._v(\"完成\")]):_vm._e(),_vm._v(\" \"),(!scope.row.isFinish)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){_vm.updateTodo( scope.row )}}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),(scope.row.isFinish)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){_vm.lookDetailTodo( scope.row )}}},[_vm._v(\"详情\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.handleDelete( scope.row )}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination-container\",staticStyle:{\"text-align\":\"center\",\"margin-top\":\"20px\",\"position\":\"relative\"}},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.listQuery.pageNum,\"page-sizes\":[10,20,30,50],\"page-size\":_vm.listQuery.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"position\":\"absolute\",\"right\":\"40px\",\"top\":\"0\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.showDialog}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.todoDialogTitle,\"custom-class\":\"todo-dialog\",\"append-to-body\":\"\",\"center\":\"\",\"width\":\"30%\",\"visible\":_vm.todoDialog},on:{\"update:visible\":function($event){_vm.todoDialog=$event}}},[_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"100%\",\"padding-bottom\":\"0\"},attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"25%\"}},[_c('el-form-item',{attrs:{\"label\":\"待办类型\",\"prop\":\"todoType\"}},[_c('el-input',{attrs:{\"disabled\":_vm.formDisabled},model:{value:(_vm.form.todoType),callback:function ($$v) {_vm.$set(_vm.form, \"todoType\", $$v)},expression:\"form.todoType\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"事项标题\",\"prop\":\"todoTitle\"}},[_c('el-input',{attrs:{\"disabled\":_vm.formDisabled},model:{value:(_vm.form.todoTitle),callback:function ($$v) {_vm.$set(_vm.form, \"todoTitle\", $$v)},expression:\"form.todoTitle\"}})],1),_vm._v(\" \"),(!_vm.formDisabled)?_c('el-form-item',{attrs:{\"label\":\"计划日期\",\"prop\":\"finishDate\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.form.finishDate),callback:function ($$v) {_vm.$set(_vm.form, \"finishDate\", $$v)},expression:\"form.finishDate\"}})],1):_c('el-form-item',{attrs:{\"label\":\"完成时间\",\"prop\":\"completeDate\"}},[_c('el-date-picker',{attrs:{\"disabled\":\"\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.form.completeDate),callback:function ($$v) {_vm.$set(_vm.form, \"completeDate\", $$v)},expression:\"form.completeDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"待办内容\",\"prop\":\"content\"}},[_c('el-input',{attrs:{\"disabled\":_vm.formDisabled,\"rows\":4,\"type\":\"textarea\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.todoDialog = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),(_vm.todoDialogTitle === '新增待办事项')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"确 定\")]):_vm._e(),_vm._v(\" \"),(_vm.todoDialogTitle === '查看事项详情')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.todoDialog = false}}},[_vm._v(\"确 定\")]):(_vm.todoDialogTitle === '修改待办事项')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleEditSubmit}},[_vm._v(\"修 改\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b0d35c8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/setting/components/todo-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b0d35c8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./todo-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./todo-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./todo-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b0d35c8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./todo-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/setting/components/todo-list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}