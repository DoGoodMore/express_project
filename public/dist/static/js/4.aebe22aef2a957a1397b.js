webpackJsonp([4],{"1Kb4":function(t,e,a){t.exports=a.p+"static/img/img-test-1.637fc13.jpg"},UlHM:function(t,e,a){t.exports=a.p+"static/img/img-test-2.4bc13c0.jpg"},eTrs:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("//Fk"),s=a.n(r),i=a("1Kb4"),n=a.n(i),c=a("UlHM"),o=a.n(c),l=a("oopf"),u=a("9TmC"),g=a("RY13"),p=a("t5DY"),v={components:{rightShow:l.default},data:function(){return{topping:"",imgArr:[n.a,o.a,n.a,o.a],cardDataArr:[],tagsHot:[{type:"success",text:"Javascript"},{type:"error",text:"Node"},{type:"warning",text:"CSS3"},{type:"info",text:"H5"},{type:"warning",text:"CSS3"},{type:"info",text:"H5"},{type:"success",text:"Javascript"},{type:"error",text:"Node"},{type:"warning",text:"CSS3"},{type:"info",text:"H5"}],hotArticle:[{title:"排序算法之冒泡排序 － java实现",type:"JAVA"},{title:"快速搭建基于二进制日志文件的 mysql 复制",type:"JAVA"},{title:"排序算法之冒泡排序 － java实现",type:"JAVA"},{title:"使用 redis 和 spring-session 实现 tomcat、glassfish 等 web 服务器集群 session 共享",type:"JAVA"},{title:"排序算法之冒泡排序 － java实现",type:"JAVA"}],listQuery:{pageNum:1,pageSize:5}}},methods:{changTime:function(t,e){if(!t)return"暂无数据";var a=new Date(t),r=a.getFullYear(),s=a.getMonth()+1,i=a.getDate(),n=a.getHours(),c=a.getMinutes(),o=a.getSeconds();return e?r+"年"+s+"月"+i+"日":r+"年"+s+"月"+i+"日-"+(n<10?"0"+n:n)+":"+(c<10?"0"+c:c)+":"+(o<10?"0"+o:o)},changeColorToRgb:function(t,e){var a=[],r=[];if(3===(t=t.replace(/#/,"")).length){for(var s=[],i=0;i<3;i++)s.push(t.charAt(i)+t.charAt(i));t=s.join("")}for(var n=0;n<3;n++)a[n]="0x"+t.substr(2*n,2),r.push(parseInt(Number(a[n])));return"rgba("+r.join(",")+", "+(e||1)+")"},getArticleListRecent:function(){var t=this;return new s.a(function(e,a){Object(u.e)(t.listQuery).then(function(t){var r=t.status,s=t.data;0===r?e(s):a(new Error("服务器错误"))}).catch(function(t){return a(t)})})},getAllTagsList:function(){return new s.a(function(t,e){Object(g.c)({}).then(function(a){0===a.status?t(a):e(new Error("服务器错误"))}).catch(function(t){return e(t)})})},getFileInfo:function(){var t=this;Object(p.c)({}).then(function(e){var a=e.status,r=e.data;0===a&&(t.topping=r.topping)})}},created:function(){var t=this;this.getFileInfo(),s.a.all([this.getArticleListRecent(),this.getAllTagsList()]).then(function(e){var a=e[0],r=e[1].data;t.$set(t,"cardDataArr",[]),a.length&&r.length&&a.map(function(e,a){t.cardDataArr.push({id:e._id,title:e.title,tags:[],content:e.description,imgUrl:e.poster,author:e.author||"xyzzzzz",readCount:e.views,comments:e.comments.length,releaseTime:t.changTime(e.create)}),e.tags&&e.tags.length&&e.tags.map(function(e){r.find(function(r){if(e===r.value)return t.cardDataArr[a].tags.push(r),!0})})})}).catch(function(t){return console.log(t)})}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"width container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:18}},[a("el-carousel",{attrs:{height:"300px",interval:5e3,arrow:"never"}},t._l(t.imgArr,function(t,e){return a("el-carousel-item",{key:e},[a("img",{attrs:{src:t,alt:"img"}})])})),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[t._v("\n                博主置顶\n                "),a("p",{staticClass:"topping-box"},[t._v(t._s(t.topping))])]),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[a("div",{staticClass:"clear-fix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("最新发布")])]),t._v(" "),t._l(t.cardDataArr,function(e,r){return a("el-card",{key:r,staticClass:"box-card",staticStyle:{"margin-top":"20px"},attrs:{shadow:"hover"}},[a("div",{staticClass:"clear-fix",staticStyle:{position:"relative"},on:{click:function(a){t.$router.push("/home/article-detail?id="+e.id)}}},[a("div",{staticClass:"card-left"},[a("div",{staticClass:"card-title"},[t._v(t._s(e.title))]),t._v(" "),t._l(e.tags,function(e){return a("a",{key:e.value,staticStyle:{display:"inline-block","margin-right":"8px"},attrs:{href:"javascript:;"}},[a("span",{staticClass:"tag",style:{background:t.changeColorToRgb(e.background,.2),color:e.color,borderColor:t.changeColorToRgb(e.color,.1)}},[t._v(t._s(e.label))])])}),t._v(" "),a("p",{staticStyle:{"margin-top":"10px","line-height":"20px"}},[t._v(t._s(e.content))]),t._v(" "),a("div",{staticClass:"card-data-info",style:e.imgUrl?{position:"absolute",bottom:"0",left:"0"}:{marginTop:"20px"}},[a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"icon-author"}),t._v("\n                                    "+t._s(e.author)+"\n                                ")]),t._v(" "),a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"icon-views"}),t._v("\n                                    "+t._s(e.readCount)+"\n                                ")]),t._v(" "),a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"icon-coments"}),t._v("\n                                    "+t._s(e.comments)+"\n                                ")]),t._v(" "),a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"icon-date"}),t._v("\n                                    "+t._s(e.releaseTime)+"\n                                ")])])],2),t._v(" "),a("div",{staticClass:"card-right"},[e.imgUrl?a("img",{attrs:{src:e.imgUrl,alt:"img"}}):t._e()])])])})],2)],1),t._v(" "),a("right-show")],1)],1)},staticRenderFns:[]};var d=a("VU/8")(v,h,!1,function(t){a("j1f3")},"data-v-85e330d8",null);e.default=d.exports},j1f3:function(t,e){}});
//# sourceMappingURL=4.aebe22aef2a957a1397b.js.map